\section{Introdução}

O Portugol como linguagem não é tão bem definida, ficando muito mais sujeita a uma
linguagem de aprendizado, voltada para o ensino e não para projetos de
grande porte. Algumas vezes é somente uma tradução simplificada de Pascal
para o português.

O Portugol aqui definido será baseado em \cite{Farrer1999}. O Livro utilizado para
o estudo de algoritmos e de introdução a programação, é perfeito para
este trabalho. O compilador desenvolvido, bem como o sistema Web, visa estudar
como o processo de compilação online se dará, sendo necessário uma linguagem
simples que não tome o foco do objetivo principal.

Nas seções subsequentes veremos como o portugol foi proposto para este compilador.
Suas características, sua sintaxe e a estrutura da linguagem.

\section{Estrutura da Linguagem}

\subsection{Comentários}

Mais de uma forma de comentar o código será aceito, estimulando o seu uso em todo o
código. O // usado em linguagens como C e Java e também a \# (cerquilha), utilizada em 
linguagens como o Ruby são aceitos como comentários de uma só linha. Os {} (colchetes)
são a única forma aceita de comentários para várias linhas ou comentários de bloco.

\subsection{Tipos básicos}

Os tipos básicos são simples e restritos, pois visam o ensino da lógica de programação.
Isso promove também a independência de linguagem e de máquina.

\subsubsection{Numérico}

O tipo numérico resume todos os tipos para o cálculo aritmético. Não existe distinção entre
números inteiros ou números reais (ponto flutuante). Caso haja a necessidade de que algum
algoritmo utilize uma propriedade específica de algum destes tipos, deverá esta ser obtida
através de funções. A vírgula é o símbolo utilizado para a separação da parte decimal.
Não se escrevem os separadores de milhar.

\subsubsection{Literal}

Este tipo é responsável por armazenar sequências de letras e símbolos --- em muitas
linguagens é o tipo \textit{String}. 

\subsubsection{Lógico}

Responsável pelo armazenamento das constantes verdadeiro e falso. Este tipo é muito
importante em projetos de linguagens de programação, visto que ele é bastante
utilizado, sendo o tipo de retorno de várias operações.

\subsubsection{Vetores e Matrizes}

É permitida a criação de vetores e matrizes de quaisquer tipos básicos. As operações realizadas
com matrizes e vetores deverão ser realizadas de forma condizente com a linguagem Portugol.
As operações básicas deste tipo seguem as mesmas permitidas em seus tipos básicos. A palavra-chave
\textit{matriz} é reservada para este tipo. O número inicial dos índices é sempre 1.

Exemplo:

 
\begin{lstlisting}
a matriz numérico[30]  // Cria uma matriz 30x1
b matriz lógico[3][3]  // Cria uma matriz 3x3
 
\end{lstlisting}


\subsubsection{Registros}

É sempre definido pela palavra reservada \textbf{registro}. Representa um bloco composto
por declarações de variáveis. Se encerra com a palavra \textbf{fimregistro}.

Exemplo:

\begin{lstlisting}
 registro
   num1, num2 numérico
   estaPresente lógico
   endereco literal
 fimregistro
\end{lstlisting}

\subsection{Variáveis e Identificadores}

As variáveis são parte importante de uma linguagem. Qualquer identificador, sendo este válido, tem
como primeiro símbolo uma letra. Números e \_ (sublinha) são aceitos após o primeiro caractere. O
tamanho máximo válido é definido em 32 caracteres.

É necessário lembrar que alguns símbolos, normalmente ignorados ou proibidos em outras linguagens,
são aceitos em Portugol. Símbolos estes presentes na língua portuguesa, como por exemplo, os acentos:
á, ê, í, à, õ, ..., ç.

Vale ressaltar da diferença existente entre variáveis declaradas com acento e variáveis sem acento.
Ou seja, a variável 'pé' é diferente da variável 'pe'.

\subsection{Declaração de variáveis}

Não existe um local específico para declaração de variáveis, mas fica a recomendação de que esta
seja feita no início de uma seção, seja o programa principal ou um procedimento/função. A
palavra-chave \textbf{declare} será utilizada para declarar variáveis em Portugol. É possível
declarar variáveis de mesmo tipo em uma mesma linha, nunca variáveis de tipos diferentes.

Exemplo:

\begin{lstlisting}
 declare num1, num2, num3 numérico
 declare palavra literal
 declare a, b, c lógico
 declare r registro
		    dia, mes numérico
		    nome literal
		    estaPresente lógico
	   fimregistro
\end{lstlisting}

Exemplo de declaração inválida:

\begin{lstlisting}
 declare num1 numérico, palavra literal
\end{lstlisting}

A visibilidade de uma palavra segue o mesmo padrão de outras conhecidas linguagens, ou seja, é
dependente do escopo a qual foi definida.

\subsection{Atribuição}

A atribuição de valores a uma variável será denotada pelo símbolo '':=''. Será permitido 
apenas a atribuição de um valor por vez. Uma atribuição será válida quando possuir
um identificador válido do lado esquerdo e uma expressão válida e, do mesmo tipo, do
lado direito.

Exemplo:

\begin{lstlisting}
 declare num1, num2 numérico
 declare palavra literal

 num1 := 3
 num2 := 1,5
 palavra := "Olá Mundo"
\end{lstlisting}

\subsection{Operadores}

\subsubsection{Operadores Aritméticos}

Os operadores são:

\begin{center}
\textbf{Tabela 2.1 - Operadores Aritméticos}
\end{center}

\begin{center}
\begin{tabular}{cc}
\hline
\textbf{Operação} & \textbf{Símbolo}\\
\hline
Adição & +\\
\hline
Subtração & -\\
\hline
Multiplicação & *\\
\hline
Divisão & /\\
\hline
\end{tabular}
\end{center}

\subsubsection{Operadores Lógicos}

Os Operadores são:

\begin{center}
\textbf{Tabela 2.2 - Operadores Lógicos}
\end{center}

\begin{center}
\begin{tabular}{cc}
\hline
\textbf{Operação} & \textbf{Símbolo}\\
\hline
inversão - não & não\\
\hline
junção & e\\
\hline
disjunção & ou\\
\hline
\end{tabular}
\end{center}

\subsubsection{Operadores Relacionais}

Os Operadores são:

\begin{center}
\textbf{Tabela 2.3 - Operadores Relacionais}
\end{center}

\begin{center}
\begin{tabular}{cc}
\hline
\textbf{Operação} & \textbf{Símbolo}\\
\hline
Igualdade & =\\
\hline
Maior & >\\
\hline
Menor & <\\
\hline
Maior ou Igual & >=\\
\hline
Menor ou Igual& <=\\
\hline
Diferença& != ou <>\\
\hline
\end{tabular}
\end{center}

\subsubsection{Operadores Relacionais}

Os Operadores são:

\begin{center}
\textbf{Tabela 2.4 - Operadores Literais}
\end{center}

\begin{center}
\begin{tabular}{cc}
\hline
\textbf{Operação} & \textbf{Símbolo}\\
\hline
Concatenação & +\\
\hline
Igualdade & =\\
\hline
Maior & >\\
\hline
Menor & <\\
\hline
Maior ou Igual & >=\\
\hline
Menor ou Igual& <=\\
\hline
Diferença& != ou <>\\
\hline
\end{tabular}
\end{center}

\subsection{Estrutura Sequencial}

O programa tem início com a palavra \textbf{programa} e tem fim com a palavra
\textbf{fimprograma}. Caso queira importar outros módulos, estes devem ser feitos
através de comando, após a declaração do programa.

Em Portugol não se faz necessária a utilização de algum símbolo especial ou visual
para marcar o fim de linha. Basta que o ''Retorno'' --- mais conhecido pela tecla
''ENTER'' --- seja pressionado. Este símbolo é definido na posição 13 da tabela
ASCII.

Qualquer que seja o símbolo ou comando declarado fora do escopo do programa, será
considerado erro. Funções e procedimentos devem ser declarados externamente e então, 
importados pelo programa que necessite utilizá-los. Isto fará com que se estimule
a modularização de código, bem como a criação de arquivos de menor tamanho e mais
fáceis de entender.

\subsection{Estruturas Condicionais}

São definidas duas: \textbf{se} e o \textbf{caso}.

O \textbf{se} é utilizado quando se quer avaliar uma condição ou expressão
lógica e retorna obrigatoriamente um valor lógico. Conforme o retorno a
execução passa para o bloco \textbf{então} --- caso seja verdadeiro ---
ou para o bloco \textbf{senão} --- caso seja falso.

É definido também em Portugol o \textbf{fimentão} e o \textbf{senão}, responsáveis
pelo fechamento dos blocos \textbf{então} e \textbf{senão} respectivamentes.

Exemplo:

\begin{lstlisting}
 se num1 > num2
     então num1 = 1
     fimentão
     senão num2 = 2
     fimsenão
 fimse
\end{lstlisting}

A estrutura \textbf{caso} permite avaliar vários valores e admite váriavel
dos tipos lógicos, numérico e literal.

\begin{lstlisting}
 caso tamanho
     10: i := 10
     11: i := 11
     12: i := 12
 fimcaso
\end{lstlisting}

\subsection{Estruturas de Repetição}

Três estruturas são definidas em Portugol: \textbf{faça}, \textbf{enquanto}, \textbf{repita}.

O \textbf{faça} é similar ao \textit{for} de outras linguagens. Sua construção é demonstrada
abaixo:

\begin{lstlisting}
 faça i de 1 até 10
     <instruções>
 fimfaça
\end{lstlisting}

O bloco acima irá executar as instruções dez vezes, incrementando o valor do ''i'' de 1 até 10.
É recomendável como boas práticas de programação que a váriavel de controle --- no bloco
acima é o ''i'' --- não tenha seu valor alterado pelas instruções internas. O valor do ''i'' é
incrementado em 1 sempre quando se chega ao ''fimfaça''. O valor do ''i'' após o ''fimfaça'' é
igual ao valor máximo estipulado no início, no caso 10.

O \textbf{enquanto} substitui o \textit{while} de outras linguagens de programação.
Exemplo:

\begin{lstlisting}
 enquanto num1 > num2
     <instruções>
 fimenquanto
\end{lstlisting}

A estrutura de repetição \textbf{enquanto} executa o bloco de código até que a condição seja
falsa. Pode acontecer das instruções nem serem executadas, caso a condição seja falsa logo
de início.

A estrutura \textbf{repita} tem como característica o fato de ser básica. A verificação e a
interrupção do bloco de código é livre, sendo especificada pelo comando \textbf{interrompa}.
Veja:

\begin{lstlisting}
 repita
     <comandos>
     interrompa 
 fimrepita
\end{lstlisting}

Após a leitura do interrompa, a execução do programa se dará para o trecho de código abaixo
do ''fimrepita''.

Como pode ser observado, a maioria das estruturas definidas são fechadas sempre utilizando o
''fim\textit{estrutura}''. A não utilização de tal comando acarretará em um erro de código, 
podendo ser este léxico ou sintático.

\subsection{Funções}

As funções aqui definidas seguem as mesmas regras de um programa, não podendo apenas importar módulos.

A declaração de uma função pode ser vista abaixo:

\begin{lstlisting}
 funcao soma(a numerico, b numerico)
     <comandos>
 fimfuncao
\end{lstlisting}

Assim como ocorre em outras linguagens de programação, as variáveis declaradas em uma determinada função
são internas a ela, possuindo assim escopo local.

Decidi por não utilizar uma estrutura do tipo procedimento - estrutura esta existente em outras linguagens -
pelo fato de simplificar o uso da linguagem, visto que ela se designa ao ensino de programação. O mesmo se
faz irrelevante neste trabalho, já que a principal diferença entre uma função e um procedimento é que a 
função retorna um resultado.

\section{Conclusão}

A linguagem Portugol é por sua própria natureza simples. Na maioria das vezes em que é utilizada a finalidade é sempre
o aprendizado de programação de computadores. O Portugol utilizado para a construção deste trabalho também
tem a simplicidade em sua essência, no entanto, oferece as condições necessárias para uma introdução a programação,
além de também atender ao propósito deste trabalho de final de curso.

É importante deixar claro que tomando como base este trabalho e a linguagem Portugol em si, é perfeitamente possível
a criação de uma linguagem de programação mais poderosa e robusta que contenha uma estrutura muito mais complexa.
Ou então é também possível, a criação de uma DSL (Domain Specific Language), mas este seria um assunto para um 
outro projeto.